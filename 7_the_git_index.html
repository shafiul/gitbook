<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
  "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<title>Git Book - The Git Index</title>
	<meta http-equiv="content-language" content="en">
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="icon" href="favicon.png" type="image/png">
	<link rel="stylesheet" href="assets/blueprint/screen.css" type="text/css" media="screen, projection">
  <link rel="stylesheet" href="assets/blueprint/print.css" type="text/css" media="print">
  <!--[if IE]><link rel="stylesheet" href="assets/blueprint/ie.css" type="text/css" media="screen, projection"><![endif]-->
	<link rel="stylesheet" href="assets/stylesheets/mac_classic.css" type="text/css" media="screen, projection">
	<link rel="stylesheet" href="assets/stylesheets/style.css" type="text/css" media="screen, projection">
</head>

<body>
<div class="container chapter showgrids">

  <div class="span-21 header">
    <div class="nav"><a href="7_git_references.html">Prev</a>  <a href="7_the_packfile.html">Next</a></div>
    <div class="title"><a href='index.html'>Git Community Book</a></div>
  </div>
  
  <div class="span-21">
    <br/>
  </div>
  
  <div class="span-21">
    <h2>The Git Index</h2>

<p>The index is a binary file (generally kept in .git/index) containing a
sorted list of path names, each with permissions and the SHA1 of a blob
object; <a href="http://www.kernel.org/pub/software/scm/git/docs/git-ls-files.html">git ls-files</a> can show you the contents of the index:</p>

<pre><code>$ git ls-files --stage
100644 63c918c667fa005ff12ad89437f2fdc80926e21c 0   .gitignore
100644 5529b198e8d14decbe4ad99db3f7fb632de0439d 0   .mailmap
100644 6ff87c4664981e4397625791c8ea3bbb5f2279a3 0   COPYING
100644 a37b2152bd26be2c2289e1f57a292534a51a93c7 0   Documentation/.gitignore
100644 fbefe9a45b00a54b58d94d06eca48b03d40a50e0 0   Documentation/Makefile
...
100644 2511aef8d89ab52be5ec6a5e46236b4b6bcd07ea 0   xdiff/xtypes.h
100644 2ade97b2574a9f77e7ae4002a4e07a6a38e46d07 0   xdiff/xutils.c
100644 d5de8292e05e7c36c4b68857c1cf9855e3d2f70a 0   xdiff/xutils.h
</code></pre>

<p>Note that in older documentation you may see the index called the
"current directory cache" or just the "cache".  It has three important
properties:</p>

<ol>
<li><p>The index contains all the information necessary to generate a single
 (uniquely determined) tree object.</p>

<p> For example, running <a href="http://www.kernel.org/pub/software/scm/git/docs/git-commit.html">git commit</a> generates this tree object
 from the index, stores it in the object database, and uses it as the
 tree object associated with the new commit.</p></li>
<li><p>The index enables fast comparisons between the tree object it defines
 and the working tree.</p>

<p> It does this by storing some additional data for each entry (such as
 the last modified time).  This data is not displayed above, and is not
 stored in the created tree object, but it can be used to determine
 quickly which files in the working directory differ from what was
 stored in the index, and thus save git from having to read all of the
 data from such files to look for changes.</p></li>
<li><p>It can efficiently represent information about merge conflicts
 between different tree objects, allowing each pathname to be
 associated with sufficient information about the trees involved that
 you can create a three-way merge between them.</p>

<p> During a merge, the index can
 store multiple versions of a single file (called "stages").  The third
 column in the <a href="http://www.kernel.org/pub/software/scm/git/docs/git-ls-files.html">git ls-files</a> output above is the stage
 number, and will take on values other than 0 for files with merge
 conflicts.</p></li>
</ol>


<p>The index is thus a sort of temporary staging area, which is filled with
a tree which you are in the process of working on.</p>


  </div>
  
  <div class="span-21">
    <hr/>
    <div class="center"><a href="7_git_references.html">Prev</a>  <a href="7_the_packfile.html">Next</a></div>
    <hr/>
  </div>
  
  <div class="span-17 footer">
  	<div class="menu">
  		This book is maintained by Scott Chacon, and hosting is donated by GitHub.
  		<br>
  		Please email me at <a href="mailto:schacon@gmail.com">schacon@gmail.com</a>
  		with patches, suggestions and comments.
	  </div>
  </div>
  <div class="span-4 last center">
    <a href="http://github.com"><img src="assets/images/github.png" alt="github logo"></a>
  </div>
  
</div>

<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-82337-12");
pageTracker._initData();
pageTracker._trackPageview();
</script>
<script src="http://static.getclicky.com/40584.js" type="text/javascript"></script>
<noscript><p><img alt="Clicky" src="http://in.getclicky.com/40584-db6.gif" /></p></noscript>

</body>
</html>
