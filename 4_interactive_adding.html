<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
  "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<title>Git Book - Interactive Adding</title>
	<meta http-equiv="content-language" content="en">
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="icon" href="favicon.png" type="image/png">
	<link rel="stylesheet" href="assets/blueprint/screen.css" type="text/css" media="screen, projection">
  <link rel="stylesheet" href="assets/blueprint/print.css" type="text/css" media="print">
  <!--[if IE]><link rel="stylesheet" href="assets/blueprint/ie.css" type="text/css" media="screen, projection"><![endif]-->
	<link rel="stylesheet" href="assets/stylesheets/mac_classic.css" type="text/css" media="screen, projection">
	<link rel="stylesheet" href="assets/stylesheets/style.css" type="text/css" media="screen, projection">
</head>

<body>
<div class="container chapter showgrids">

  <div class="span-21 header">
    <div class="nav"><a href="4_interactive_rebasing.html">Prev</a>  <a href="4_stashing.html">Next</a></div>
    <div class="title"><a href='index.html'>Git Community Book</a></div>
  </div>
  
  <div class="span-21">
    <br/>
  </div>
  
  <div class="span-21">
    <h2>Interactive Adding</h2>

<p>Interactive Adding is a really nice way of working with and visualizing
the Git index.  To start it up, simply type 'git add -i'.  Git will show
you all the modified files you have and their status.</p>

<pre><code>$&gt;git add -i
           staged     unstaged path
  1:    unchanged        +4/-0 assets/stylesheets/style.css
  2:    unchanged      +23/-11 layout/book_index_template.html
  3:    unchanged        +7/-7 layout/chapter_template.html
  4:    unchanged        +3/-3 script/pdf.rb
  5:    unchanged      +121/-0 text/14_Interactive_Rebasing/0_ Interactive_Rebasing.markdown

*** Commands ***
  1: status   2: update   3: revert   4: add untracked
  5: patch    6: diff     7: quit     8: help
What now&gt; 
</code></pre>

<p>In this case, we can see that there are 5 modified files that have not been
added to our index yet (unstaged), and even how many lines have been added to
or removed from each.  It then shows us an interactive menu of what we can
do in this mode.</p>

<p>If we want to stage the files, we can type '2' or 'u' for the update mode.
Then I can specify which files I want to stage (add to the index) by typing
in the numbers of the files (in this case, 1-4)</p>

<pre><code>What now&gt; 2
           staged     unstaged path
  1:    unchanged        +4/-0 assets/stylesheets/style.css
  2:    unchanged      +23/-11 layout/book_index_template.html
  3:    unchanged        +7/-7 layout/chapter_template.html
  4:    unchanged        +3/-3 script/pdf.rb
  5:    unchanged      +121/-0 text/14_Interactive_Rebasing/0_ Interactive_Rebasing.markdown
Update&gt;&gt; 1-4
           staged     unstaged path
* 1:    unchanged        +4/-0 assets/stylesheets/style.css
* 2:    unchanged      +23/-11 layout/book_index_template.html
* 3:    unchanged        +7/-7 layout/chapter_template.html
* 4:    unchanged        +3/-3 script/pdf.rb
  5:    unchanged      +121/-0 text/14_Interactive_Rebasing/0_ Interactive_Rebasing.markdown
Update&gt;&gt; 
</code></pre>

<p>If I hit enter, I will be taken back to the main menu where I can see that
the file status has changed:</p>

<pre><code>What now&gt; status
           staged     unstaged path
  1:        +4/-0      nothing assets/stylesheets/style.css
  2:      +23/-11      nothing layout/book_index_template.html
  3:        +7/-7      nothing layout/chapter_template.html
  4:        +3/-3      nothing script/pdf.rb
  5:    unchanged      +121/-0 text/14_Interactive_Rebasing/0_ Interactive_Rebasing.markdown
</code></pre>

<p>Now we can see the first four files are staged and the last one is still not.
This is basically a compressed way to see the same information we see when
we run 'git status' from the command line:</p>

<pre><code>$ git status
# On branch master
# Changes to be committed:
#   (use "git reset HEAD &lt;file&gt;..." to unstage)
#
#   modified:   assets/stylesheets/style.css
#   modified:   layout/book_index_template.html
#   modified:   layout/chapter_template.html
#   modified:   script/pdf.rb
#
# Changed but not updated:
#   (use "git add &lt;file&gt;..." to update what will be committed)
#
#   modified:   text/14_Interactive_Rebasing/0_ Interactive_Rebasing.markdown
#
</code></pre>

<p>There are a number of useful things we can do, including unstaging files (3: revert),
adding untracked files (4: add untracked), and viewing diffs (6: diff). Those
are all pretty straightforward.  However, there is one command that is pretty
cool here, which is staging patches (5: patch).</p>

<p>If you type '5' or 'p' in the menu, git will show you your diff patch by patch
(or hunk by hunk) and ask if you want to stage each one.  That way you can
actually stage for a commit a part of a file edit.  If you've edited a file
and want to only commit part of it and not an unfinished part, or commit
documentation or whitespace changes seperate from substantive changes, you can
use 'git add -i' to do so relatively easily.</p>

<p>Here I've staged some changes to the book_index_template.html file, but not all
of them:</p>

<pre><code>         staged     unstaged path
1:        +4/-0      nothing assets/stylesheets/style.css
2:       +20/-7        +3/-4 layout/book_index_template.html
3:        +7/-7      nothing layout/chapter_template.html
4:        +3/-3      nothing script/pdf.rb
5:    unchanged      +121/-0 text/14_Interactive_Rebasing/0_ Interactive_Rebasing.markdown
6:    unchanged       +85/-0 text/15_Interactive_Adding/0_ Interactive_Adding.markdown
</code></pre>

<p>When you are done making changes to your index through 'git add -i', you simply
quit (7: quit) and then run 'git commit' to commit the staged changes.  Remember
<strong>not</strong> to run 'git commit -a', which will blow away all the careful changes
you've just made and simply commit everything.</p>

<p><a href="" title="GitCast #3: Interactive Adding">gitcast:c3_add_interactive</a></p>


  </div>
  
  <div class="span-21">
    <hr/>
    <div class="center"><a href="4_interactive_rebasing.html">Prev</a>  <a href="4_stashing.html">Next</a></div>
    <hr/>
  </div>
  
  <div class="span-17 footer">
  	<div class="menu">
  		This book is maintained by Scott Chacon, and hosting is donated by GitHub.
  		<br>
  		Please email me at <a href="mailto:schacon@gmail.com">schacon@gmail.com</a>
  		with patches, suggestions and comments.
	  </div>
  </div>
  <div class="span-4 last center">
    <a href="http://github.com"><img src="assets/images/github.png" alt="github logo"></a>
  </div>
  
</div>

<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-82337-12");
pageTracker._initData();
pageTracker._trackPageview();
</script>
<script src="http://static.getclicky.com/40584.js" type="text/javascript"></script>
<noscript><p><img alt="Clicky" src="http://in.getclicky.com/40584-db6.gif" /></p></noscript>

</body>
</html>
